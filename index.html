<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ch√†o m·ª´ng Ng√†y Ph·ª• N·ªØ Vi·ªát Nam 20-10</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
    body, html { height: 100%; scroll-behavior: smooth; }

    section.scene {
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      flex-direction: column;
      color: #fff;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      overflow: hidden;
      opacity: 0;
      transition: opacity 1.5s ease-in-out;
      z-index: 1;
    }
    section.scene.active {
      opacity: 1;
      z-index: 2;
    }

    /* Hi·ªáu ·ª©ng fade in cho n·ªôi dung */
    .fade-in {
      animation: fadeIn 2.5s ease forwards;
      opacity: 0;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* C·∫¢NH LOADING - Hi·ªáu ·ª©ng loading bar */
    #scene0 {
      background: linear-gradient(to bottom right, #ff69b4, #ffd700);
    }
    .loading-container {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      gap: 30px;
    }
    .loading-gift {
      font-size: 4em;
      animation: bounceGift 1.5s ease-in-out infinite;
    }
    @keyframes bounceGift {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-20px); }
    }
    .loading-text {
      font-size: 1.5em;
      letter-spacing: 2px;
      text-shadow: 0 2px 8px rgba(0,0,0,0.3);
    }
    .loading-bar {
      width: 300px;
      height: 8px;
      background: rgba(255,255,255,0.3);
      border-radius: 10px;
      overflow: hidden;
    }
    .loading-progress {
      height: 100%;
      background: linear-gradient(to right, #ff1493, #ff69b4, #ffb6c1);
      width: 0%;
      animation: progressBar 3s ease forwards;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(255,20,147,0.6);
    }
    @keyframes progressBar {
      0% { width: 0%; }
      100% { width: 100%; }
    }

    /* Hoa r∆°i nh·∫π, ƒëa d·∫°ng h∆°n */
    .petal {
      position: absolute;
      width: 15px;
      height: 15px;
      background: rgba(255, 105, 180, 0.8);
      border-radius: 50% 50% 0 50%;
      animation: fall 8s linear infinite;
      left: calc(100vw * var(--left));
      animation-delay: calc(5s * var(--delay));
      transform: scale(var(--scale)) rotate(var(--rotate));
    }
    @keyframes fall {
      0% { transform: translateY(-50px) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
    }

    /* VƒÉn b·∫£n v·ªõi shadow m·∫°nh h∆°n ƒë·ªÉ d·ªÖ ƒë·ªçc */
    h1 { font-size: 3.5em; margin-bottom: 20px; text-shadow: 0 4px 15px rgba(0,0,0,0.4); }
    p { max-width: 900px; font-size: 1.3em; line-height: 1.8; text-shadow: 0 2px 8px rgba(0,0,0,0.3); }

    /* Gradient m√†u s·∫Øc r·ª±c r·ª°, h√†i h√≤a h∆°n (tƒÉng ƒë·ªô b√£o h√≤a) */
    #scene1 {
      background: linear-gradient(to bottom right, #ff69b4, #ffd700);
    }
    #scene2 {
      background: linear-gradient(to top right, #ff1493, #ffa500);
    }
    #scene3 {
      background: linear-gradient(to bottom left, #db7093, #ffcc00);
    }
    #scene4 {
      background: linear-gradient(to right, #c71585, #f4a460);
      color: #fff;
    }
    #scene4 h1 { color: #ff4500; text-shadow: 0 4px 15px rgba(0,0,0,0.5); }

    /* Responsive */
    @media (max-width: 768px) {
      h1 { font-size: 2.5em; }
      p { font-size: 1em; }
      .loading-gift { font-size: 3em; }
      .loading-text { font-size: 1.2em; }
      .loading-bar { width: 250px; }
    }

    /* Styles for buttons in scene4 */
    .button-container {
      margin-top: 20px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .btn {
      padding: 10px 20px;
      background: #ff69b4;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1.2em;
      text-shadow: 0 1px 3px rgba(0,0,0,0.2);
    }
    .btn:hover {
      background: #ff1493;
    }

    /* Modal styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 10;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.4);
      justify-content: center;
      align-items: center;
    }
    .modal-content {
      background-color: #fff;
      padding: 20px;
      border-radius: 10px;
      width: 80%;
      max-width: 400px;
      text-align: left;
      color: #333;
    }
    .close {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
    }
    .close:hover,
    .close:focus {
      color: black;
      text-decoration: none;
      cursor: pointer;
    }
    form {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    input, select {
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 5px;
    }
    .auth-btn {
      background: #ff69b4;
      color: white;
      border: none;
      padding: 10px;
      cursor: pointer;
    }
    .auth-btn:hover {
      background: #ff1493;
    }
    .switch-auth {
      text-align: center;
      margin-top: 10px;
    }

    /* Mini game styles */
    #minigame {
      display: none;
      position: fixed;
      z-index: 10;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(to bottom right, #ff69b4, #ffd700);
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: #fff;
      text-align: center;
      padding: 20px;
    }
    .user-count {
      font-size: 1.5em;
      margin-bottom: 15px;
      text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }
    .winner-info {
      font-size: 1.5em;
      margin-bottom: 15px;
      color: #ff4500;
      text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(6, 60px);
      grid-gap: 15px;
      margin-bottom: 30px;
      background: rgba(255,255,255,0.1);
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    }
    .square {
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, #fff, #ffb6c1);
      border-radius: 10px;
      cursor: pointer;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 2em;
      color: #ff1493;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
    }
    .square:hover {
      transform: scale(1.15) rotate(5deg);
      box-shadow: 0 6px 15px rgba(0,0,0,0.3);
      background: linear-gradient(135deg, #ffb6c1, #ff69b4);
    }
    .square.opened {
      background: linear-gradient(135deg, #ddd, #ccc);
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
      color: #999;
    }
    #dialog {
      display: none;
      position: fixed;
      z-index: 11;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      background: #fff;
      padding: 25px;
      border-radius: 15px;
      width: 85%;
      max-width: 550px;
      color: #333;
      text-align: center;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
    }
    #dialog-content {
      margin-bottom: 15px;
      font-size: 1.2em;
      line-height: 1.6;
    }
    #dialog-close {
      position: absolute;
      top: 15px;
      right: 15px;
      cursor: pointer;
      font-size: 24px;
      color: #aaa;
    }
    #dialog-close:hover {
      color: #000;
    }
    .back-btn {
      padding: 12px 25px;
      background: #ff1493;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1.2em;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      transition: background 0.3s ease;
    }
    .back-btn:hover {
      background: #c71585;
    }

    /* Expired message */
    #expired-message {
      display: none;
      height: 100vh;
      justify-content: center;
      align-items: center;
      text-align: center;
      background: #fff;
      color: #333;
      font-size: 1.5em;
      padding: 20px;
    }

    /* User list modal */
    #user-list-modal {
      display: none;
      position: fixed;
      z-index: 11;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.4);
      justify-content: center;
      align-items: center;
    }
    #user-list-content {
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      max-width: 600px;
      width: 90%;
      color: #333;
      overflow-y: auto;
      max-height: 80vh;
    }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: left;
    }
    th {
      background: #f2f2f2;
    }
    #user-list-close {
      float: right;
      cursor: pointer;
      font-size: 24px;
      color: #aaa;
    }
    #user-list-close:hover {
      color: #000;
    }
    #show-users-btn {
      padding: 10px 20px;
      background: #ff69b4;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1em;
      margin-bottom: 20px;
    }
    #show-users-btn:hover {
      background: #ff1493;
    }

    /* Instructions dialog */
    #instructions-dialog {
      display: none;
      position: fixed;
      z-index: 11;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      width: 80%;
      max-width: 500px;
      color: #333;
      text-align: left;
    }
    #instructions-content {
      margin-bottom: 10px;
    }
    #instructions-close {
      position: absolute;
      top: 10px;
      right: 10px;
      cursor: pointer;
      font-size: 20px;
      color: #aaa;
    }
    #instructions-close:hover {
      color: #000;
    }

    /* Continue button style */
    #continue-btn {
      display: none;
      padding: 10px 20px;
      background: #ff1493;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1.2em;
      margin-top: 20px;
    }
    #continue-btn:hover {
      background: #c71585;
    }
  </style>
</head>
<body>

<div id="expired-message">
  <p>Trang web ch·ªâ ho·∫°t ƒë·ªông v√†o ng√†y 20 th√°ng 10. Xin l·ªói v√¨ s·ª± b·∫•t ti·ªán n√†y!</p>
</div>

<!-- C·∫¢NH 0: LOADING -->
<section id="scene0" class="scene active">
  <div class="loading-container">
    <div class="loading-gift">üéÅ</div>
    <div class="loading-text">ƒêang chu·∫©n b·ªã m√≥n qu√† nh·ªè...</div>
    <div class="loading-bar">
      <div class="loading-progress"></div>
    </div>
    <button id="continue-btn">Ti·∫øp t·ª•c</button>
  </div>
</section>

<!-- C·∫¢NH 1: M·ªû ƒê·∫¶U -->
<section id="scene1" class="scene">
  <h1 class="fade-in">üå∏ Ch√†o m·ª´ng Ng√†y Ph·ª• N·ªØ Vi·ªát Nam 20-10 üå∏</h1>
  <p class="fade-in" style="animation-delay: 0.5s;">H√¥m nay, ch√∫ng ta c√πng g·ª≠i l·ªùi ch√∫c t·ªët ƒë·∫πp nh·∫•t ƒë·∫øn nh·ªØng ng∆∞·ªùi ph·ª• n·ªØ ‚Äî nh·ªØng b√¥ng hoa t·ªèa h∆∞∆°ng gi·ªØa cu·ªôc ƒë·ªùi.</p>
</section>

<!-- C·∫¢NH 2: √ù NGHƒ®A NG√ÄY 20/10 -->
<section id="scene2" class="scene">
  <h1 class="fade-in">üíñ √ù nghƒ©a ng√†y 20-10 üíñ</h1>
  <p class="fade-in" style="animation-delay: 1s;">
    Ng√†y 20/10 l√† d·ªãp ƒë·∫∑c bi·ªát ƒë·ªÉ t√¥n vinh ph·ª• n·ªØ Vi·ªát Nam ‚Äì nh·ªØng ng∆∞·ªùi m·∫π, ng∆∞·ªùi v·ª£, ng∆∞·ªùi ch·ªã ƒë√£ c·ªëng hi·∫øn v√† hy sinh th·∫ßm l·∫∑ng.  
    H·ªç l√† bi·ªÉu t∆∞·ª£ng c·ªßa t√¨nh y√™u th∆∞∆°ng, s·ª± ki√™n c∆∞·ªùng v√† l√≤ng nh√¢n h·∫≠u.  
    M·ªói ng∆∞·ªùi ph·ª• n·ªØ ƒë·ªÅu mang trong m√¨nh v·∫ª ƒë·∫πp ri√™ng ‚Äì t·ª´ s·ª± m·∫°nh m·∫Ω trong cu·ªôc s·ªëng ƒë·∫øn n√©t d·ªãu d√†ng trong t·ª´ng c·ª≠ ch·ªâ.  
    H√£y tr√¢n tr·ªçng v√† d√†nh cho h·ªç nh·ªØng l·ªùi ch√∫c ng·ªçt ng√†o, v√¨ ch√≠nh h·ªç l√†m cho cu·ªôc ƒë·ªùi n√†y th√™m r·ª±c r·ª°. üå∑
  </p>
</section>

<!-- C·∫¢NH 3: H√åNH ·∫¢NH PH·ª§ N·ªÆ VI·ªÜT -->
<section id="scene3" class="scene">
  <h1 class="fade-in">H√¨nh ·∫£nh ƒë·∫πp c·ªßa Ph·ª• N·ªØ Vi·ªát Nam</h1>
  <img src="https://images.pexels.com/photos/33603012/pexels-photo-33603012.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" alt="Ph·ª• n·ªØ Vi·ªát Nam m·∫∑c √°o d√†i truy·ªÅn th·ªëng" 
       style="width:60%; max-width:600px; border-radius:20px; margin-top:20px; box-shadow:0 0 30px rgba(255,255,255,0.8);">
  <p class="fade-in" style="margin-top:20px; animation-delay: 1s;">
    D√°ng √°o d√†i d·ªãu d√†ng, n·ª• c∆∞·ªùi hi·ªÅn h·∫≠u ‚Äì h√¨nh ·∫£nh ng∆∞·ªùi ph·ª• n·ªØ Vi·ªát Nam lu√¥n l√† bi·ªÉu t∆∞·ª£ng c·ªßa s·ª± nh√¢n √°i v√† hy sinh.  
    H·ªç mang trong tim l√≤ng t·ª± h√†o d√¢n t·ªôc v√† tinh th·∫ßn b·∫•t khu·∫•t, v∆∞·ª£t qua m·ªçi kh√≥ khƒÉn ƒë·ªÉ vun ƒë·∫Øp cho h·∫°nh ph√∫c v√† t∆∞∆°ng lai.
  </p>
</section>

<!-- C·∫¢NH 4: L·ªúI CH√öC K·∫æT -->
<section id="scene4" class="scene">
  <h1 class="fade-in">üåº L·ªùi ch√∫c g·ª≠i ƒë·∫øn ph·ª• n·ªØ Vi·ªát üåº</h1>
  <p class="fade-in" style="animation-delay:1s;">
    Ch√∫c t·∫•t c·∫£ ph·ª• n·ªØ Vi·ªát Nam lu√¥n xinh ƒë·∫πp, m·∫°nh m·∫Ω v√† h·∫°nh ph√∫c.  
    D√π l√† ·ªü b·∫•t k·ª≥ vai tr√≤ n√†o ‚Äì ng∆∞·ªùi m·∫π, ng∆∞·ªùi v·ª£ hay ng∆∞·ªùi b·∫°n ‚Äì  
    c√°c b·∫°n lu√¥n x·ª©ng ƒë√°ng nh·∫≠n ƒë∆∞·ª£c s·ª± y√™u th∆∞∆°ng v√† tr√¢n tr·ªçng.  
    H√£y lu√¥n t·ª± tin, y√™u ƒë·ªùi v√† t·ªèa s√°ng nh∆∞ nh·ªØng ƒë√≥a hoa r·ª±c r·ª° trong ng√†y ƒë·∫∑c bi·ªát n√†y! üíê
  </p>
  <div class="button-container fade-in" style="animation-delay:1.5s;">
    <button class="btn" id="replay-btn">Xem l·∫°i kho·∫£nh kh·∫Øc</button>
    <button class="btn" id="minigame-btn">Mini game</button>
  </div>
  <audio autoplay loop>
    <source src="https://files.catbox.moe/d9by6u.mp3" type="audio/mpeg">
  </audio>
</section>

<!-- Modal for Auth -->
<div id="auth-modal" class="modal">
  <div class="modal-content">
    <span class="close" id="auth-close">&times;</span>
    <h2 id="auth-title">ƒêƒÉng nh·∫≠p</h2>
    <form id="auth-form">
      <label for="name">H·ªç v√† t√™n:</label>
      <input type="text" id="name" required>
      <label for="year">NƒÉm sinh:</label>
      <input type="number" id="year" required min="1900" max="2025">
      <div id="gender-container" style="display:none;">
        <label for="gender">Gi·ªõi t√≠nh:</label>
        <select id="gender">
          <option value="female" selected>N·ªØ</option>
          <option value="male">Nam</option>
          <option value="other">Kh√°c</option>
        </select>
      </div>
      <button type="submit" class="auth-btn" id="auth-submit">ƒêƒÉng nh·∫≠p</button>
    </form>
    <div class="switch-auth">
      <a href="#" id="switch-link">Vui l√≤ng ƒëƒÉng k√Ω t√†i kho·∫£n m·ªõi</a>
    </div>
  </div>
</div>

<!-- Mini Game Section -->
<section id="minigame">
  <div class="user-count">S·ªë l∆∞·ª£ng ng∆∞·ªùi tham gia: <span id="user-count">0</span></div>
  <div class="winner-info" id="winner-info"></div>
  <button id="show-users-btn">Danh s√°ch ng∆∞·ªùi tham gia</button>
  <div class="grid" id="grid"></div>
  <button class="back-btn" id="back-to-scenes">Quay l·∫°i</button>
</section>

<!-- Dialog for Square Content -->
<div id="dialog">
  <span id="dialog-close">&times;</span>
  <p id="dialog-content"></p>
</div>

<!-- Instructions Dialog -->
<div id="instructions-dialog">
  <span id="instructions-close">&times;</span>
  <div id="instructions-content">
    <h2>H∆∞·ªõng d·∫´n ch∆°i Mini Game</h2>
    <p>Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi Mini Game ch√∫c m·ª´ng ng√†y 20/10!</p>
    <p><strong>Quy lu·∫≠t ch∆°i:</strong></p>
    <ul>
      <li>C√≥ 30 √¥ vu√¥ng tr√™n l∆∞·ªõi.</li>
      <li>B·∫°n ch·ªâ ƒë∆∞·ª£c m·ªü <strong>1 √¥ vu√¥ng duy nh·∫•t</strong> cho m·ªói t√†i kho·∫£n.</li>
      <li>M·ªói √¥ ch·ª©a m·ªôt l·ªùi ch√∫c ng·∫´u nhi√™n v·ªÅ ng√†y Ph·ª• n·ªØ Vi·ªát Nam 20/10 d√†nh cho c√°c b·∫°n n·ªØ 12A6 v√† c√°c c√¥ gi√°o.</li>
      <li>Trong s·ªë ƒë√≥, c√≥ <strong>1 √¥ ƒë·∫∑c bi·ªát</strong> ch·ª©a ph·∫ßn qu√†: b√≠ m·∫≠t ti·ªÅn m·∫∑tüíµ</li>
      <li>Sau khi m·ªü, b·∫°n kh√¥ng th·ªÉ m·ªü th√™m √¥ n√†o n·ªØa.</li>
      <li>N·∫øu tr√∫ng qu√†, t√†i kho·∫£n c·ªßa b·∫°n s·∫Ω ƒë∆∞·ª£c ghim v√† hi·ªÉn th·ªã l√† ng∆∞·ªùi nh·∫≠n qu√†.</li>
      <li>Ch·ªâ c√≥ 30 ng∆∞·ªùi tham gia t·ªëi ƒëa. M·ªói thi·∫øt b·ªã ch·ªâ ƒëƒÉng k√Ω ƒë∆∞·ª£c 1 t√†i kho·∫£n.</li>
    </ul>
    <p>Ch√∫c b·∫°n may m·∫Øn! üéâ</p>
  </div>
</div>

<!-- User List Modal -->
<div id="user-list-modal" class="modal">
  <div id="user-list-content">
    <span id="user-list-close">&times;</span>
    <h2>Danh s√°ch ng∆∞·ªùi tham gia</h2>
    <table id="user-table">
      <thead>
        <tr>
          <th>STT</th>
          <th>H·ªç v√† t√™n</th>
          <th>NƒÉm sinh</th>
          <th>Ph·∫ßn th∆∞·ªüng</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
</div>

<audio id="music1" loop>
  <source src="https://rr2---sn-8qj-8ppe7.googlevideo.com/videoplayback?expire=1760982779&ei=myL2aLu6LbiAvcAP1Zi_-QQ&ip=222.252.18.89&id=o-AK9gyiigmfVIo3hMAGglHPLUtIHLL90h-hYrzgY3T46V&itag=140&source=youtube&requiressl=yes&xpc=EgVo2aDSNQ%3D%3D&rms=au%2Cau&bui=ATw7iSX0EuFePCfFqODjYct7lthrjgzN1QctjfWdXkpooy2X9cEPV-aBfEL0D3l7TjQLWHXs2Q31r5T-&spc=hcYD5ZNZhITOzjQtGpvv-rhrhPJGP9_nYur7KPpuECg3Tv7TPp-rNOtS&vprv=1&svpuc=1&mime=audio%2Fmp4&rqh=1&gir=yes&clen=64132550&dur=3962.694&lmt=1760927372995427&keepalive=yes&fexp=24350737,24350827,24351316,24351318,24351528,24352001,24352157,24352539,24352916,24352918,24352960,24352981,24352983,24353009,24353011,24353029,24353031,24353128,24353227,24353229,24353287,24353289,24353697,24353699,24353795,24353797,24354011,24354013,24354131,24354133,51552689,51565115,51565681,51580968&c=ANDROID_VR&txp=4532534&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cxpc%2Cbui%2Cspc%2Cvprv%2Csvpuc%2Cmime%2Crqh%2Cgir%2Cclen%2Cdur%2Clmt&sig=AJfQdSswRQIgf_nEqvIW85qUmQLVUte7D3KJjR0Aksw8Ij2v19lI_SsCIQDqEGnohC-QEaaZxggefdxxiy6nJkwYAZdzr2nQbgow8Q%3D%3D&redirect_counter=1&rm=sn-i3bdl7e&rrc=104&req_id=894b5302adc6a3ee&cms_redirect=yes&cmsv=e&ipbypass=yes&met=1760961186,&mh=zV&mip=14.178.135.43&mm=31&mn=sn-8qj-8ppe7&ms=au&mt=1760960944&mv=m&mvi=2&pcm2cms=yes&pl=25&lsparams=ipbypass,met,mh,mip,mm,mn,ms,mv,mvi,pcm2cms,pl,rms&lsig=APaTxxMwRgIhANAL7-TAlsV4FonaU643SG3GF3uDO4xHLvWWTIJC1lngAiEA5bkPP_vv14BVBsk4FabW_3HN4eB0WT3Pqz-ZXxr6x5Q%3D" type="audio/mp4">
</audio>

<audio id="music2" loop>
  <source src="https://rr6---sn-8qj-8ppl.googlevideo.com/videoplayback?expire=1760976320&ei=YAn2aN6PHK_h29gPn5Tw6Aw&ip=222.252.18.89&id=o-APsoEyRd9F1X2iWx_6pka-X3yp4HTNnTm4UWvte-mM24&itag=140&source=youtube&requiressl=yes&xpc=EgVo2aDSNQ%3D%3D&rms=au%2Cau&bui=ATw7iSVZGtKzkCI6322FZqYNmvyQdmkn7IDJWZw1yqgUaDYpqynhYL3CELo5krnv8ORih_vIpELahYEe&spc=hcYD5VkjOw3nHmOWD1tYn9xiZqlPptpMY2HrUHKzvogAIFRj3i6OpYEr&vprv=1&svpuc=1&mime=audio%2Fmp4&rqh=1&gir=yes&clen=59059444&dur=3649.224&lmt=1760862810632872&keepalive=yes&fexp=24350737,24350827,24351316,24351318,24351528,24352001,24352157,24352539,24352916,24352918,24352960,24352981,24352983,24353009,24353011,24353029,24353031,24353128,24353227,24353229,24353287,24353289,24353697,24353699,24353795,24353797,24354011,24354013,24354131,24354133,51552689,51565115,51565681,51580968&c=ANDROID_VR&txp=6318224&sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cxpc%2Cbui%2Cspc%2Cvprv%2Csvpuc%2Cmime%2Crqh%2Cgir%2Cclen%2Cdur%2Clmt&sig=AJfQdSswRQIgSwazJ_qRmyfOyhR1WEUoH5my-YnGY9djipil_X1Kg2wCIQCDbRds2W-kA3oBAgudeGCz_TKhEf_zGjcvXNTxSODoRA%3D%3D&redirect_counter=1&rm=sn-i3b6r7e&rrc=104&req_id=28fe9b7bc22a3ee&cms_redirect=yes&cmsv=e&ipbypass=yes&met=1760954754,&mh=8L&mip=14.178.135.43&mm=31&mn=sn-8qj-8ppl&ms=au&mt=1760954459&mv=m&mvi=6&pl=25&lsparams=ipbypass,met,mh,mip,mm,mn,ms,mv,mvi,pl,rms&lsig=APaTxxMwRQIhAM5xsGXZbSpn6JnwYznluRO1coTUDogMDEt2kLkR5ttrAiAyIC63cnUc36-eI-dC6tkm0K85fKK-56T6YcpcSOQ4Vw%3D%3D" type="audio/mp4">
</audio>

<script>
  // Check date first
  const today = new Date();
  const isValidDate = (today.getDate() === 20 && today.getMonth() === 9); // October is 9 (0-based)

  if (!isValidDate) {
    document.body.innerHTML = ''; // Clear body
    document.getElementById('expired-message').style.display = 'flex';
    // Stop further execution
    throw new Error('Page expired');
  }

  const scenes = document.querySelectorAll('.scene');
  let current_scene = 0;
  const transitionTime = 5000; // Th·ªùi gian m·ªói scene (5 gi√¢y)
  let interval;

  function showNextScene() {
    scenes.forEach((scene, index) => {
      scene.classList.remove('active');
      if (index === current_scene) {
        scene.classList.add('active');
        // Reset fade-in animations
        const fadeElements = scene.querySelectorAll('.fade-in');
        fadeElements.forEach(el => {
          el.style.animation = 'none';
          el.offsetHeight; // Trigger reflow
          el.style.animation = '';
        });
      }
    });

    const next_scene = (current_scene + 1) % scenes.length;
    if (next_scene === 0) {
      // Kh√¥ng l·∫∑p l·∫°i, d·ª´ng t·∫°i scene4
      clearInterval(interval);
    } else {
      current_scene = next_scene;
    }
  }

  // Hi·ªÉn th·ªã n√∫t ti·∫øp t·ª•c sau loading ho√†n t·∫•t (sau 3 gi√¢y)
  setTimeout(() => {
    document.getElementById('continue-btn').style.display = 'block';
  }, 3000);

  // N√∫t ti·∫øp t·ª•c
  document.getElementById('continue-btn').addEventListener('click', () => {
    current_scene = 1; // Chuy·ªÉn t·ª´ scene loading ƒë·∫øn scene 1
    showNextScene();
    interval = setInterval(showNextScene, transitionTime);
    music1.play().catch(error => {
      console.log('Kh√¥ng th·ªÉ ph√°t nh·∫°c 1: ', error);
    });
  });

  // T·∫°o hi·ªáu ·ª©ng hoa r∆°i ƒëa d·∫°ng h∆°n, r·ª±c r·ª°
  for (let i = 0; i < 20; i++) {
    const petal = document.createElement('div');
    petal.classList.add('petal');
    petal.style.setProperty('--left', Math.random());
    petal.style.setProperty('--delay', Math.random());
    petal.style.setProperty('--scale', 0.6 + Math.random() * 0.8);
    petal.style.setProperty('--rotate', Math.random() * 360 + 'deg');
    const colors = ['rgba(255, 105, 180, 0.8)', 'rgba(255, 20, 147, 0.7)', 'rgba(255, 182, 193, 0.9)', 'rgba(219, 112, 147, 0.8)'];
    petal.style.background = colors[Math.floor(Math.random() * colors.length)];
    document.body.appendChild(petal);
  }

  // Replay button
  document.getElementById('replay-btn').addEventListener('click', () => {
    clearInterval(interval);
    current_scene = 0;
    showNextScene();
    setTimeout(() => {
      current_scene = 1;
      showNextScene();
      interval = setInterval(showNextScene, transitionTime);
    }, 3000);
  });

  // Mini game button
  const authModal = document.getElementById('auth-modal');
  const minigameBtn = document.getElementById('minigame-btn');
  const authClose = document.getElementById('auth-close');
  const authTitle = document.getElementById('auth-title');
  const authForm = document.getElementById('auth-form');
  const authSubmit = document.getElementById('auth-submit');
  const switchLink = document.getElementById('switch-link');
  const genderContainer = document.getElementById('gender-container');

  let isRegister = false;

  minigameBtn.addEventListener('click', () => {
    authModal.style.display = 'flex';
    switchToLogin();
  });

  authClose.addEventListener('click', () => {
    authModal.style.display = 'none';
  });

  window.addEventListener('click', (event) => {
    if (event.target === authModal) {
      authModal.style.display = 'none';
    }
  });

  switchLink.addEventListener('click', (e) => {
    e.preventDefault();
    if (isRegister) {
      switchToLogin();
    } else {
      switchToRegister();
    }
  });

  function switchToLogin() {
    isRegister = false;
    authTitle.textContent = 'ƒêƒÉng nh·∫≠p';
    authSubmit.textContent = 'ƒêƒÉng nh·∫≠p';
    switchLink.textContent = 'Vui l√≤ng ƒëƒÉng k√Ω t√†i kho·∫£n m·ªõi';
    genderContainer.style.display = 'none';
  }

  function switchToRegister() {
    isRegister = true;
    authTitle.textContent = 'ƒêƒÉng k√Ω';
    authSubmit.textContent = 'ƒêƒÉng k√Ω';
    switchLink.textContent = 'ƒê√£ c√≥ t√†i kho·∫£n? ƒêƒÉng nh·∫≠p';
    genderContainer.style.display = 'block';
  }

  authForm.addEventListener('submit', (e) => {
    e.preventDefault();
    const name = document.getElementById('name').value.trim();
    const year = parseInt(document.getElementById('year').value);
    const gender = isRegister ? document.getElementById('gender').value : 'female'; // Default female for login, but not used

    if (name && year) {
      let users = JSON.parse(localStorage.getItem('users')) || [];
      if (users.length >= 30 && isRegister) {
        alert('S·ªë l∆∞·ª£ng ng∆∞·ªùi tham gia ƒë√£ ƒë·∫°t gi·ªõi h·∫°n 30 ng∆∞·ªùi. B·∫°n kh√¥ng th·ªÉ ƒëƒÉng k√Ω n·ªØa!');
        authModal.style.display = 'none';
        return;
      }

      let user = users.find(u => u.name === name && u.year === year);

      if (isRegister) {
        if (localStorage.getItem('deviceCode')) {
          alert('Kh√¥ng ƒë∆∞·ª£c ph√©p t·∫°o nhi·ªÅu t√†i kho·∫£n tr√™n 1 thi·∫øt b·ªã!');
          return;
        }
        if (user) {
          alert('T√†i kho·∫£n ƒë√£ t·ªìn t·∫°i!');
          return;
        }
        const deviceCode = Math.floor(10000000 + Math.random() * 90000000).toString();
        user = { name, year, gender, deviceCode, opened: false, won: false };
        users.push(user);
        localStorage.setItem('users', JSON.stringify(users));
        localStorage.setItem('deviceCode', deviceCode);
        enterMinigame(user);
      } else {
        if (!user) {
          alert('T√†i kho·∫£n kh√¥ng t·ªìn t·∫°i! Vui l√≤ng ƒëƒÉng k√Ω t√†i kho·∫£n ƒë·ªÉ ƒëƒÉng nh·∫≠p.');
          return;
        }
        let storedDeviceCode = localStorage.getItem('deviceCode');
        if (storedDeviceCode && storedDeviceCode !== user.deviceCode) {
          alert('Thi·∫øt b·ªã n√†y ƒë√£ li√™n k·∫øt v·ªõi t√†i kho·∫£n kh√°c!');
          return;
        }
        if (!storedDeviceCode) {
          localStorage.setItem('deviceCode', user.deviceCode);
        }
        enterMinigame(user);
      }
    }
  });

  // Mini game logic
  const minigameSection = document.getElementById('minigame');
  const userCountSpan = document.getElementById('user-count');
  const winnerInfo = document.getElementById('winner-info');
  const grid = document.getElementById('grid');
  const backBtn = document.getElementById('back-to-scenes');
  const dialog = document.getElementById('dialog');
  const dialogContent = document.getElementById('dialog-content');
  const dialogClose = document.getElementById('dialog-close');

  const instructionsDialog = document.getElementById('instructions-dialog');
  const instructionsClose = document.getElementById('instructions-close');

  const userListModal = document.getElementById('user-list-modal');
  const userListClose = document.getElementById('user-list-close');
  const userTableBody = document.querySelector('#user-table tbody');
  const showUsersBtn = document.getElementById('show-users-btn');

  let currentUser;
  let winner = null;

  instructionsClose.addEventListener('click', () => {
    instructionsDialog.style.display = 'none';
  });

  showUsersBtn.addEventListener('click', () => {
    displayUserList();
    userListModal.style.display = 'flex';
  });

  userListClose.addEventListener('click', () => {
    userListModal.style.display = 'none';
  });

  window.addEventListener('click', (event) => {
    if (event.target === userListModal) {
      userListModal.style.display = 'none';
    }
  });

  function displayUserList() {
    const users = JSON.parse(localStorage.getItem('users')) || [];
    userTableBody.innerHTML = '';
    users.forEach((user, index) => {
      const row = document.createElement('tr');
      row.innerHTML = `
        <td>${index + 1}</td>
        <td>${user.name}</td>
        <td>${user.year}</td>
        <td>${user.won ? '‚úî' : 'X'}</td>
      `;
      userTableBody.appendChild(row);
    });
  }

  function enterMinigame(user) {
    const users = JSON.parse(localStorage.getItem('users')) || [];
    if (users.length > 30) {
      alert('S·ªë l∆∞·ª£ng ng∆∞·ªùi tham gia ƒë√£ ƒë·∫°t gi·ªõi h·∫°n 30 ng∆∞·ªùi. B·∫°n kh√¥ng th·ªÉ ch∆°i mini game ƒë∆∞·ª£c n·ªØa!');
      authModal.style.display = 'none';
      return;
    }

    currentUser = user;
    authModal.style.display = 'none';
    minigameSection.style.display = 'flex';

    // D·ª´ng nh·∫°c 1 v√† ph√°t nh·∫°c 2
    music1.pause();
    music2.play().catch(error => {
      console.log('Kh√¥ng th·ªÉ ph√°t nh·∫°c 2: ', error);
    });

    // Show instructions dialog
    instructionsDialog.style.display = 'block';

    // Load users and count
    userCountSpan.textContent = users.length;

    // Check for winner
    winner = users.find(u => u.won);
    if (winner) {
      winnerInfo.textContent = `${winner.name} ƒê√£ nh·∫≠n ƒë∆∞·ª£c ph·∫ßn qu√† h·∫•p d·∫´n üéÅ`;
    } else {
      winnerInfo.textContent = '';
    }

    // Generate grid
    grid.innerHTML = '';
    const contents = generateContents();
    for (let i = 0; i < 30; i++) {
      const square = document.createElement('div');
      square.classList.add('square');
      square.textContent = '?';
      square.dataset.index = i;
      if (user.opened) {
        square.classList.add('opened');
        square.textContent = 'X';
      }
      square.addEventListener('click', () => openSquare(square, contents[i]));
      grid.appendChild(square);
    }
  }

  function generateContents() {
    const wishes = [
      'Ch√∫c c√°c b·∫°n n·ªØ 12A6 lu√¥n t·ªèa s√°ng nh∆∞ nh·ªØng v√¨ sao, mang ƒë·∫øn ni·ªÅm vui v√† h·∫°nh ph√∫c cho m·ªçi ng∆∞·ªùi xung quanh. Nh√¢n ng√†y 20/10, ch√∫c c√°c b·∫°n m√£i xinh ƒë·∫πp v√† th√†nh c√¥ng trong h·ªçc t·∫≠p c≈©ng nh∆∞ cu·ªôc s·ªëng!',
      'K√≠nh g·ª≠i c√°c c√¥ gi√°o, nh·ªØng ng∆∞·ªùi m·∫π th·ª© hai c·ªßa ch√∫ng em. Ch√∫c c√°c c√¥ lu√¥n m·∫°nh kh·ªèe, h·∫°nh ph√∫c v√† ti·∫øp t·ª•c truy·ªÅn ƒë·∫°t ki·∫øn th·ª©c qu√Ω b√°u cho th·∫ø h·ªá tr·∫ª. Happy 20/10!',
      'C√°c b·∫°n n·ªØ 12A6 th√¢n m·∫øn, c√°c b·∫°n l√† nh·ªØng b√¥ng hoa ƒë·∫πp nh·∫•t l·ªõp. Ch√∫c c√°c b·∫°n ng√†y 20/10 tr√†n ƒë·∫ßy ni·ªÅm vui, nh·∫≠n ƒë∆∞·ª£c nhi·ªÅu qu√† t·∫∑ng v√† l·ªùi ch√∫c t·ª´ m·ªçi ng∆∞·ªùi.',
      'Ch√∫c c√°c c√¥ gi√°o c·ªßa ch√∫ng em lu√¥n tr·∫ª trung, xinh ƒë·∫πp v√† tr√†n ƒë·∫ßy nƒÉng l∆∞·ª£ng. C√°c c√¥ ch√≠nh l√† ngu·ªìn c·∫£m h·ª©ng cho ch√∫ng em v∆∞∆°n t·ªõi th√†nh c√¥ng. Ch√∫c m·ª´ng ng√†y Ph·ª• n·ªØ Vi·ªát Nam!',
      'G·ª≠i ƒë·∫øn c√°c b·∫°n n·ªØ 12A6: C√°c b·∫°n kh√¥ng ch·ªâ h·ªçc gi·ªèi m√† c√≤n r·∫•t t√†i nƒÉng. Ch√∫c c√°c b·∫°n lu√¥n t·ª± tin, m·∫°nh m·∫Ω v√† ƒë·∫°t ƒë∆∞·ª£c m·ªçi ∆∞·ªõc m∆° trong t∆∞∆°ng lai. 20/10 vui v·∫ª!',
      'K√≠nh ch√∫c c√°c c√¥ gi√°o m·ªôt ng√†y 20/10 √Ω nghƒ©a, nh·∫≠n ƒë∆∞·ª£c s·ª± quan t√¢m t·ª´ gia ƒë√¨nh v√† h·ªçc tr√≤. C√°c c√¥ x·ª©ng ƒë√°ng v·ªõi t·∫•t c·∫£ nh·ªØng ƒëi·ªÅu t·ªët ƒë·∫πp nh·∫•t!',
      'C√°c b·∫°n n·ªØ 12A6 ∆°i, ch√∫c c√°c b·∫°n lu√¥n n·ªü n·ª• c∆∞·ªùi r·∫°ng r·ª°, h·ªçc t·∫≠p ti·∫øn b·ªô v√† c√≥ nh·ªØng k·ª∑ ni·ªám ƒë·∫πp b√™n b·∫°n b√®. Happy Women\'s Day!',
      'Ch√∫c c√°c c√¥ gi√°o lu√¥n gi·ªØ ƒë∆∞·ª£c s·ª± d·ªãu d√†ng, ki√™n nh·∫´n v√† y√™u th∆∞∆°ng h·ªçc tr√≤. Ng√†y 20/10, ch√∫ng em g·ª≠i ƒë·∫øn c√°c c√¥ nh·ªØng l·ªùi ch√∫c ch√¢n th√†nh nh·∫•t.',
      'G·ª≠i c√°c b·∫°n n·ªØ 12A6: C√°c b·∫°n l√† ni·ªÅm t·ª± h√†o c·ªßa l·ªõp. Ch√∫c c√°c b·∫°n ng√†y c√†ng xinh ƒë·∫πp, th√¥ng minh v√† h·∫°nh ph√∫c b√™n ng∆∞·ªùi th√¢n.',
      'K√≠nh g·ª≠i c√°c c√¥, ch√∫c c√°c c√¥ c√≥ m·ªôt ng√†y 20/10 tr√†n ƒë·∫ßy hoa v√† qu√†. C·∫£m ∆°n c√°c c√¥ v√¨ ƒë√£ lu√¥n ƒë·ªìng h√†nh c√πng ch√∫ng em.',
      'Ch√∫c c√°c b·∫°n n·ªØ 12A6 th√†nh c√¥ng trong m·ªçi lƒ©nh v·ª±c, t·ª´ h·ªçc t·∫≠p ƒë·∫øn t√¨nh y√™u. Ng√†y 20/10, h√£y ƒë·ªÉ b·∫£n th√¢n ƒë∆∞·ª£c chi·ªÅu chu·ªông nh√©!',
      'C√°c c√¥ gi√°o k√≠nh m·∫øn, ch√∫c c√°c c√¥ lu√¥n m·∫°nh kh·ªèe ƒë·ªÉ ti·∫øp t·ª•c s·ª© m·ªánh tr·ªìng ng∆∞·ªùi. Happy 20/10!',
      'C√°c b·∫°n n·ªØ 12A6 th√¢n y√™u, ch√∫c c√°c b·∫°n lu√¥n vui v·∫ª, l·∫°c quan v√† v∆∞·ª£t qua m·ªçi th·ª≠ th√°ch. Ch√∫c m·ª´ng ng√†y Ph·ª• n·ªØ!',
      'Ch√∫c c√°c c√¥ gi√°o nh·∫≠n ƒë∆∞·ª£c nhi·ªÅu ni·ªÅm vui t·ª´ h·ªçc tr√≤ v√† gia ƒë√¨nh. C√°c c√¥ l√† nh·ªØng ng∆∞·ªùi ph·ª• n·ªØ tuy·ªát v·ªùi nh·∫•t!',
      'G·ª≠i ƒë·∫øn c√°c b·∫°n n·ªØ 12A6: Ch√∫c c√°c b·∫°n c√≥ m·ªôt ng√†y 20/10 ƒë√°ng nh·ªõ, v·ªõi nh·ªØng b·∫•t ng·ªù th√∫ v·ªã t·ª´ b·∫°n b√®.',
      'K√≠nh ch√∫c c√°c c√¥ lu√¥n xinh ƒë·∫πp, tr·∫ª trung v√† h·∫°nh ph√∫c. C·∫£m ∆°n c√°c c√¥ v√¨ t·∫•t c·∫£!',
      'Ch√∫c c√°c b·∫°n n·ªØ 12A6 h·ªçc gi·ªèi, ch∆°i vui v√† lu√¥n l√† ch√≠nh m√¨nh. Happy Women\'s Day!',
      'C√°c c√¥ gi√°o ∆°i, ch√∫c c√°c c√¥ c√≥ nh·ªØng gi√¢y ph√∫t th∆∞ gi√£n b√™n gia ƒë√¨nh nh√¢n ng√†y 20/10.',
      'C√°c b·∫°n n·ªØ 12A6, ch√∫c c√°c b·∫°n m√£i l√† nh·ªØng c√¥ g√°i d·ªÖ th∆∞∆°ng, t√†i gi·ªèi v√† th√†nh ƒë·∫°t.',
      'Ch√∫c c√°c c√¥ gi√°o lu√¥n tr√†n ƒë·∫ßy nƒÉng l∆∞·ª£ng t√≠ch c·ª±c v√† truy·ªÅn c·∫£m h·ª©ng cho ch√∫ng em.',
      'G·ª≠i c√°c b·∫°n n·ªØ 12A6: Ch√∫c c√°c b·∫°n c√≥ m·ªôt t∆∞∆°ng lai s√°ng ng·ªùi, ƒë·∫ßy ·∫Øp ni·ªÅm vui.',
      'K√≠nh g·ª≠i c√°c c√¥, ch√∫c c√°c c√¥ ng√†y 20/10 nh·∫≠n ƒë∆∞·ª£c nhi·ªÅu l·ªùi ch√∫c y√™u th∆∞∆°ng.',
      'Ch√∫c c√°c b·∫°n n·ªØ 12A6 lu√¥n t·ª± tin b∆∞·ªõc ƒëi tr√™n con ƒë∆∞·ªùng m√¨nh ch·ªçn.',
      'C√°c c√¥ gi√°o k√≠nh m·∫øn, ch√∫c c√°c c√¥ h·∫°nh ph√∫c vi√™n m√£n b√™n ng∆∞·ªùi th√¢n.',
      'C√°c b·∫°n n·ªØ 12A6 ∆°i, ch√∫c c√°c b·∫°n ng√†y c√†ng xinh ƒë·∫πp v√† th√¥ng minh h∆°n n·ªØa.',
      'Ch√∫c c√°c c√¥ gi√°o c√≥ m·ªôt ng√†y ƒë·∫∑c bi·ªát, ƒë·∫ßy √Ω nghƒ©a v√† ·∫•m √°p.',
      'G·ª≠i ƒë·∫øn c√°c b·∫°n n·ªØ 12A6: Ch√∫c c√°c b·∫°n lu√¥n vui kh·ªèe v√† th√†nh c√¥ng.',
      'K√≠nh ch√∫c c√°c c√¥ lu√¥n l√† ngu·ªìn s√°ng soi ƒë∆∞·ªùng cho ch√∫ng em.',
      'Ch√∫c c√°c b·∫°n n·ªØ 12A6 c√≥ nh·ªØng k·ª∑ ni·ªám ƒë·∫πp trong ng√†y 20/10 n√†y.'
    ];

    const gift = 'Ch√∫c m·ª´ng b·∫°n ƒë√£ nh·∫≠n ƒë∆∞·ª£c ph·∫ßn qu√† 20k vui l√≤ng ch·ª•p ·∫£nh c√°i n√†y v√† g·ª≠i cho t√¥i zalo: 0398283058 \nƒê·ªÉ ƒë∆∞·ª£c nh·∫≠n ti·ªÅn nh√© üíµü§ë ';

    const contents = [...wishes];
    contents.splice(20, 0, gift); // Insert gift at index 20 (√¥ 21)

    return contents;
  }

  function openSquare(square, content) {
    if (currentUser.opened || square.classList.contains('opened')) {
      return;
    }

    currentUser.opened = true;
    square.classList.add('opened');
    square.textContent = 'X';

    dialogContent.textContent = content;
    dialog.style.display = 'block';

    if (content.includes('Ch√∫c m·ª´ng b·∫°n ƒë√£ nh·∫≠n ƒë∆∞·ª£c ph·∫ßn qu√†')) {
      currentUser.won = true;
      winner = currentUser;
      winnerInfo.textContent = `${currentUser.name} ƒê√£ nh·∫≠n ƒë∆∞·ª£c ph·∫ßn qu√† h·∫•p d·∫´n üéÅ`;
    }

    // Update users in storage
    let users = JSON.parse(localStorage.getItem('users')) || [];
    const index = users.findIndex(u => u.name === currentUser.name && u.year === currentUser.year);
    if (index !== -1) {
      users[index] = currentUser;
      localStorage.setItem('users', JSON.stringify(users));
    }
  }

  dialogClose.addEventListener('click', () => {
    dialog.style.display = 'none';
  });

  backBtn.addEventListener('click', () => {
    minigameSection.style.display = 'none';
    // Return to scenes, perhaps resume interval if needed
    music2.pause();
    music1.play().catch(error => {
      console.log('Kh√¥ng th·ªÉ ph√°t nh·∫°c 1: ', error);
    });
  });

  const music1 = document.getElementById('music1');
  const music2 = document.getElementById('music2');

  // Kh·ªüi ƒë·ªông nh·∫°c 1 khi ng∆∞·ªùi d√πng t∆∞∆°ng t√°c v·ªõi c·∫£nh ƒë·∫ßu
  document.getElementById('scene0').addEventListener('click', () => {
    music1.play().catch(error => {
      console.log('Kh√¥ng th·ªÉ ph√°t nh·∫°c 1: ', error);
    });
  }, {once: true});

</script>

</body>
</html>